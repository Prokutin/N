version: '3.8'

volumes:
    prometheus_data: {}

services:
  prometheus:
      image: prom/prometheus
      container_name: prokutindv-netology-prometheus
      command:
        - '--config.file=/etc/prometheus/prometheus.yml'
        - '--storage.tsdb.path=/prometheus'
        - '--web.console.libraries=/usr/share/prometheus/console_libraries'
        - '--web.console.templates=/usr/share/prometheus/consoles'
      ports:
        - 9090:9090
      volumes:
        - ./prometheus:/etc/prometheus
        - prometheus_data:/prometheus
      networks:
        - prokutindv-my-netology-hw
      restart: always


networks:
  prokutindv-my-netology-hw:  
    driver: bridge
    ipam:
      config:
        - subnet: 10.5.0.0/16